---
title: Plan Installation
---

import Globals from 'gatsby-theme-carbon/src/templates/Globals';

<PageDescription>

Overall process for installing a <Globals name="env" />

</PageDescription>

## Background

To understand how the process is performed, keep these concepts in mind.

### Roles

A <Globals name="env" /> is installed and used by users acting in three roles:
- **Account administrators**: Account owner or other users with [account management permissions](https://cloud.ibm.com/docs/iam?topic=iam-account-services)
- **Environment administrators**: Users in the account with [permissions to create services in the environment's resource group](https://cloud.ibm.com/docs/iam?topic=iam-cloudaccess)
- **Environment users**: Users in the account with [permissions to manage existing services in the environment's resource group](https://cloud.ibm.com/docs/iam?topic=iam-cloudaccess) (e.g. developers, data scientists, etc.)

The account owner must create the access group for account administrators (see below). Then, as described in [Configure Account](/admin/config-account), the account administrators can set up the resource groups and access groups needed to install and use the environments.

### Architecture

[Environment Architecture](/arch/environment) shows the structure of the <Globals name="env" /> that will be installed. Typically, each [development team](/arch/teams) gets its own environment. However, multiple teams can share a single environment. The environment structure is designed to support best practices for a [cloud-native application architecture](/arch/application), including designing applications that are [built to manage](/arch/manageable).

## Access group for account administrators

The account owner may want to delegate some of the responsibilities for configuring the account for all of the development teams that want environments. Those users who are delegated to will need account management permissions. An easy way to manage who has these permissions is to create an access group with those policies and add those users to the group. An account only needs one of these account administrators access groups, which will be used to support all environments in the account.

In a new account, the account owner is the only user. Even after inviting other users, the account owner is initially the only user with the account management permissions needed to grant those permissions to other users. Therefore it is the account owner who must create the access group for account administrators.

The account owner must create an access group to grant the necessary permissions for administering the account. Do this by running a script, or by using the console to manually perform the steps in the script. Also, add the account administrator(s) to this group.

- Use the account admin policies script

    - Create a new [access group](https://cloud.ibm.com/docs/iam?topic=iam-account_setup), name it something like `ACCOUNT-ADMIN` (all capital letters) (or name it after your account)
    - Run the script `./terraform/scripts/acp-acct`, which will add the necessary policies to the access group
    - Add the account administrator(s) to the group

The script adds policies that allow the user to:

- Create resource groups
- Invite users to the account
- Create access groups

The script also adds policies an environment administrator has but for all resource groups, with the ability to:

- Create clusters
- Manage the IBM Cloud Container Registry (used as the environment's [image registry](/guides/image-registry))
- Create service instances


## Process

The overall process:

1. Configure account -- An account administrator configures the account so that <Globals name="env" />s can be installed
1. Install environment -- An environment administrator runs the <Globals name="shortName" /> scripts to create a <Globals name="env" />
1. Configure environment -- The environment administrator finishes setting up the newly installed <Globals name="env" />

Once the environment is set up, the environment users can start using it to develop applications.

### Configure account

First, before installing an environment, an account administrator needs to configure the IBM Cloud account for the
  environment. See [Configure Account](/admin/config-account) for detailed instructions, which accomplish this:
- Decide which data center (region and zone) will host the environment
- Determine which public/private VLAN pair will comprise the environment's network
- Create the resource group that will contain the environment's resources
- Upgrade the image registry's service plan
- Create the access groups that will enable administrators and developers to access to the environment's resources
- Create Resource Group
- Create access group (capitalised)
- Create Cluster in the resource group name it `<team>-iks|ocp3|ocp4-cluster`
    - 3 Node and 8cpu and 33gb memory (typically for a sensible team)
- Install Developer Tools into cluster following install existing guide
- run `terraform/scripts/Usage: acp <ACCESS_GROUP> <RESOURCE_GROUP> <PREFIX> <REGION>`
- apply RBAC Rules`terraform/scripts/rbac.sh <ACCESS-GROUP>`
- Test `igc dashboard`

### Install environment

Second, once the account administrator has configured the account for installing an environment, the account administrator and the environment administrator need to jointly decide how the environment administrator is going to install the environment. There are two options:

[**Install including creating a new cluster**](/admin/installation-ibm-cloud): The environment administrator who performs this install needs permissions to create clusters as well as service instances. The script will run as this user to create the cluster, create the service instances, and install the CI/CD tools in the cluster.

[**Install into an existing cluster**](/admin/installation-existing): The account administrator creates the cluster and then grants the environment administrator access to it. The environment administrator who performs this install needs permissions to create service instances but not to create clusters. The script will run as the environment administrator to create the service instances and install the CI/CD tools in the existing cluster.

<InlineNotification>

**Note**: A third option is to [install an environment in Red Hat CodeReady Containers](/admin/installation-crc). For this option, you're not installing in IBM Cloud, so you don't have to configure your IBM Cloud account. However, you do have to install CRC.

</InlineNotification>

### Configure environment

Third, after installing the environment, before giving the users access to the environment, the environment administrator needs to finish configuring it. See [Configure Environment](/admin/config-install) for detailed instructions, which accomplish this:
- Configure RBAC security in the cluster
- Test opening the <Globals name="dashboard" />
- Complete setup of LogDNA
- Complete setup of SysDig
- Test the pipeline by deploying a first app
- Complete setup of Artifactory
- Complete setup of Argo CD
- Rerun pipeline and confirm that the app's Helm chart is added to Artifactory
- Set up a GitOps repo to validate ArgoCD setup and configuration

## Conclusion

Having configured the account, installed the environment, and configured the environment, the administrators have now completed an end-to-end installation of a <Globals name="env" />. It is ready for a development team to begin using for application development.
